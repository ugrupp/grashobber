{{/* Catalog section */}}

{{/* Get headless home bundle which holds the content */}}
{{ $bundle := .Site.GetPage "page" "home" }}

<section class="o-main__section o-main__section--catalog">
  <div class="c-catalog-section">
    <div class="o-container o-container--no-pad">
      <div class="o-2col-catalog">
        <div class="o-2col-catalog__one" data-reveal>
          {{/* Catalog view */}}
          <div class="c-catalog-view">
            {{/* Text */}}
            <div class="c-catalog-view__box">
              {{ with $bundle.Resources.GetMatch "catalog-view.md" }}
                <div class="c-richtext">
                  {{ .Content }}
                </div>

                <a href="https://unser-spielfeld.grashobber.de" target="_blank" class="c-button">
                  <span>{{.Params.buttontext}}</span>
                  {{ partial "util/svg" (dict "svg" "pfeil-weiss") }}
                </a>
              {{ end }}
            </div>

            {{/* Catalog */}}
            <div class="c-catalog-view__catalog">
              <div class="c-catalog">
                <div class="c-catalog__aspect-box">
                  <div class="c-catalog__aspect-target">
                    {{/* Catalog image */}}
                    {{ with $bundle.Resources.GetMatch "unser_spielfeld.jpg" }}
                      {{ $imagePlaceholder := .Resize "100x" }}
                      {{ $imageSmall := .Resize "400x" }}
                      {{ $imageMedium := .Resize "600x" }}

                      <div class="c-catalog__img-wrapper">
                        <img
                          alt='Unser Spielfeld'
                          data-srcset="{{ $imageSmall.RelPermalink }} 400w, {{ $imageMedium.RelPermalink }} 600w"
                          data-src="{{ $imageMedium.RelPermalink }}"
                          src="{{ $imagePlaceholder.RelPermalink }}"
                          class="c-catalog__img lazyload" />
                      </div>
                    {{ end }}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="o-2col-catalog__two" data-reveal>
          {{/* Info box */}}
          <div class="c-catalog-info">
            {{ with $bundle.Resources.GetMatch "info.md" }}
              <div class="c-richtext c-richtext--strong-light">
                {{ .Content }}
              </div>
            {{ end }}
        </div>
        </div>
      </div>
    </div>
  </div>
</section>

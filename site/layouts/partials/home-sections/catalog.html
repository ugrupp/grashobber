{{/* Catalog section */}}

{{/* Get headless home bundle which holds the content */}}
{{ $bundle := .Site.GetPage "page" "home" }}

<section class="o-main__section o-main__section--catalog">
  <div class="c-catalog-section">
    <div class="o-container o-container--no-pad">
      <div class="o-2col-catalog">
        <div class="o-2col-catalog__one" data-reveal>
          {{/* Catalog view */}}
          <div class="c-catalog-view">
            {{/* Text */}}
            <div class="c-catalog-view__box">
              {{ with $bundle.Resources.GetMatch "catalog-view.md" }}
                <div class="c-richtext">
                  {{ .Content }}
                </div>

                <a href="http://flipbox.grashobber.de" target="_blank" class="c-button c-button">
                  <span>{{.Params.buttontext}}</span>
                  {{ partial "util/svg" (dict "svg" "pfeil-weiss") }}
                </a>
              {{ end }}
            </div>

            {{/* Catalog */}}
            <div class="c-catalog-view__catalog">
              <div class="c-catalog">
                <div class="c-catalog__aspect-box">
                  <div class="c-catalog__aspect-target">
                    {{/* Catalog image */}}
                    {{ with $bundle.Resources.GetMatch "hygienemanagement.jpg" }}
                      {{ $imagePlaceholder := .Resize "100x" }}
                      {{ $imageSmall := .Resize "400x" }}
                      {{ $imageMedium := .Resize "600x" }}

                      <div class="c-catalog__img-wrapper">
                        <img
                          alt='Hygienemanagement'
                          data-srcset="{{ $imageSmall.RelPermalink }} 400w, {{ $imageMedium.RelPermalink }} 600w"
                          data-src="{{ $imageMedium.RelPermalink }}"
                          src="{{ $imagePlaceholder.RelPermalink }}"
                          class="c-catalog__img lazyload" />
                      </div>
                    {{ end }}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="o-2col-catalog__two" data-reveal>
          {{/* Catalog order */}}
          <div class="c-catalog-order">
            <form class="c-catalog-order__form" action="https://formspree.io/info@grashobber.de" method="POST">
              {{ with $bundle.Resources.GetMatch "catalog-order.md" }}
                {{/* Intro */}}
                <div class="c-richtext">
                  {{ .Content }}
                </div>

                {{/* Form elements */}}
                <fieldset class="c-fieldset">
                  <div class="c-fieldset__checkbox-wrapper">
                    <input class="c-fieldset__checkbox" data-checkbox-group="ordered-catalogs" type="checkbox" name="ordered-catalogs" value="DER NEUE / Gesamtkatalog" id="media-der-neue">
                    <label class="c-fieldset__checkbox-label" for="media-der-neue">
                      <span>DER NEUE / Gesamtkatalog</span>
                    </label>
                  </div>

                  <div class="c-fieldset__checkbox-wrapper">
                    <input class="c-fieldset__checkbox" data-checkbox-group="ordered-catalogs" type="checkbox" name="ordered-catalogs" value="Broschüre Hygienemanagement" id="media-hygienemanagement">
                    <label class="c-fieldset__checkbox-label" for="media-hygienemanagement">
                      <span>Broschüre Hygienemanagement</span>
                    </label>
                  </div>

                  <div class="c-fieldset__checkbox-wrapper">
                    <input class="c-fieldset__checkbox" data-checkbox-group="ordered-catalogs" type="checkbox" name="ordered-catalogs" value="DER KLEINE / Produktlösungen für Sportstätten Frühjahr 2020" id="media-der-kleine">
                    <label class="c-fieldset__checkbox-label" for="media-der-kleine">
                      <span>DER KLEINE / Produktlösungen für Sportstätten Frühjahr 2020</span>
                    </label>
                  </div>

                  <input class="c-fieldset__input" type="text" name="name" required placeholder="Name">
                  <input class="c-fieldset__input" type="text" name="company" required placeholder="Firma">
                  <input class="c-fieldset__input" type="text" name="street" required placeholder="Straße, Hausnummer">
                  <input class="c-fieldset__input" type="text" name="city" required placeholder="Postleitzahl, Ort">
                  <input class="c-fieldset__input" type="email" name="email" required placeholder="E-Mail">
                </fieldset>

                {{/* DSGVO hint */}}
                <div class="c-catalog-order__dsgvo c-richtext c-richtext--sm">
                  {{.Params.dsgvo | markdownify}}
                </div>

                <input type="hidden" name="_subject" value="Neue Katalogbestellung auf grashobber.de" />
                <input type="hidden" name="_next" value="http://www.grashobber.de/" />
                <input type="hidden" name="_language" value="de" />
                <input type="text" name="_gotcha" style="display:none" />

                {{/* Submit */}}
                <button type="submit" class="c-button c-button">
                  <span>{{.Params.buttontext}}</span>
                  {{ partial "util/svg" (dict "svg" "pfeil-weiss") }}
                </button>
              {{ end }}
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
